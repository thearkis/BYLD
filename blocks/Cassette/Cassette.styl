// Fixed positioning for all cassette pieces
.Cassette_piece_1.Cassette_fixed,
.Cassette_piece_2.Cassette_fixed,
.Cassette_piece_3.Cassette_fixed,
.Cassette_piece_4.Cassette_fixed,
.Cassette_piece_5.Cassette_fixed
    position fixed !important
    right calc(11vw + 30px) !important
    top 7vw !important
    
    @media $screen-phone
        position fixed !important
        right 0 !important
        left 0 !important
        top 150px !important
        margin 0 auto


    

.Cassette
    position absolute
    width 23vw
    height 27vw
    background-size 23vw
    right 11vw
    top 6vw

    z-index 1000
    background-position center
    background-repeat no-repeat

    @media $screen-phone
        width 220px
        height 257px
        background-size 220px
        margin 0 auto
        right 0
        left 0
        top 0

        &_piece_1,
        &_piece_2,
        &_piece_3,
        &_piece_4,
        &_piece_5
            top -350px
            // Ensure smooth animation from initial position
            transition all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) !important

    &_Fixed
        position fixed
        right calc(11vw + 30px) !important
        top 7vw !important

        @media $screen-phone
            right 0 !important
            left 0 !important
            top 150px !important
            margin 0 auto
    &_piece
        &_1
            background-image url('/assets/cassette/piece-01.svg')
            
        &_2
            background-image url('/assets/cassette/piece-02.svg')
            
        &_3
            background-image url('/assets/cassette/piece-03.svg')
            
        &_4
            background-image url('/assets/cassette/piece-04.svg')
            
        &_5
            background-image url('/assets/cassette/piece-05.svg')

        // Mobile transitions for smooth animation
        @media $screen-phone
            transition all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) !important
        
        // Mobile fixed positioning for all pieces
        &.Cassette_fixed
            @media $screen-phone
                position fixed !important
                right 0 !important
                left 0 !important
                top 150px !important
                margin 0 auto

// MOBILE ONLY: Container for reorganized cassette pieces
.Process .mobile-cassette-container
    // Hidden on desktop
    display none
    
    @media $screen-phone
        display block
        position relative
        width 100%
        height 0 // No layout impact
        z-index 1000
        pointer-events none
        
        // Cassettes inside mobile container - ALL pieces get strong transitions
        .Cassette,
        .Cassette_piece_1,
        .Cassette_piece_2,
        .Cassette_piece_3,
        .Cassette_piece_4,
        .Cassette_piece_5
            position absolute
            top 0
            left 50%
            transform translateX(-50%)
            margin 0
            pointer-events auto
            // Strong transitions for ALL pieces
            transition all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) !important
            
            // Mobile fixed positioning override
            &.Cassette_fixed
                position fixed !important
                left 50% !important
                transform translateX(-50%) !important
                top 150px !important
                right auto !important

// MOBILE ONLY: Animation effects for piece transitions (same for both directions)
.Cassette_animating
    @media $screen-phone
        // Simple animation effect for both forward and reverse
        transform scale(1.1) !important
        filter brightness(1.2) !important
        z-index 1002 !important
        
        &.Cassette_fixed
            transform translateX(-50%) scale(1.1) !important